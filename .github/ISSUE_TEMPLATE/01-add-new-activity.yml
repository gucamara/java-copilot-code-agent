name: üéì Adicionar Nova Atividade
description: Solicitar a cria√ß√£o de uma nova atividade extracurricular no sistema
title: "[ATIVIDADE] Adicionar nova atividade: "
labels: ["enhancement", "atividade"]
assignees:
  - copilot
body:
  - type: markdown
    attributes:
      value: |
        ## Adicionar Nova Atividade
        Use este formul√°rio para solicitar a adi√ß√£o de uma nova atividade extracurricular ao sistema.

  - type: input
    id: activity-name
    attributes:
      label: Nome da Atividade
      description: Qual √© o nome da nova atividade?
      placeholder: "Ex: Clube de Rob√≥tica, Aula de Yoga, Time de V√¥lei"
    validations:
      required: true

  - type: textarea
    id: activity-description
    attributes:
      label: Descri√ß√£o da Atividade
      description: Descreva brevemente o que √© a atividade e o que os estudantes far√£o
      placeholder: "Ex: Aulas pr√°ticas de rob√≥tica onde os alunos aprendem a construir e programar rob√¥s usando kits LEGO Mindstorms"
    validations:
      required: true

  - type: dropdown
    id: activity-type
    attributes:
      label: Categoria da Atividade
      description: Selecione a categoria que melhor descreve esta atividade
      options:
        - Esportes (SPORTS)
        - Artes (ARTS)
        - Acad√™mico (ACADEMIC)
        - Tecnologia (TECHNOLOGY)
        - M√∫sica (MUSIC)
        - Teatro (DRAMA)
        - Mang√°/Anime (MANGA)
        - Clube (CLUB)
        - Outro
    validations:
      required: true

  - type: checkboxes
    id: days-of-week
    attributes:
      label: Dias da Semana
      description: Em quais dias a atividade ocorrer√°?
      options:
        - label: Segunda-feira (Monday)
        - label: Ter√ßa-feira (Tuesday)
        - label: Quarta-feira (Wednesday)
        - label: Quinta-feira (Thursday)
        - label: Sexta-feira (Friday)
        - label: S√°bado (Saturday)
        - label: Domingo (Sunday)

  - type: input
    id: start-time
    attributes:
      label: Hor√°rio de In√≠cio
      description: Que horas a atividade come√ßa? (formato 24h)
      placeholder: "Ex: 15:30"
    validations:
      required: true

  - type: input
    id: end-time
    attributes:
      label: Hor√°rio de T√©rmino
      description: Que horas a atividade termina? (formato 24h)
      placeholder: "Ex: 17:00"
    validations:
      required: true

  - type: input
    id: max-participants
    attributes:
      label: Capacidade M√°xima
      description: Qual √© o n√∫mero m√°ximo de estudantes que podem participar?
      placeholder: "Ex: 20"
    validations:
      required: true

  - type: textarea
    id: initial-participants
    attributes:
      label: Participantes Iniciais (Opcional)
      description: Liste os emails dos estudantes j√° inscritos (um por linha)
      placeholder: |
        student1@mergington.edu
        student2@mergington.edu
    validations:
      required: false

  - type: textarea
    id: additional-info
    attributes:
      label: Informa√ß√µes Adicionais
      description: Alguma informa√ß√£o adicional relevante sobre a atividade?
      placeholder: "Ex: Necess√°rio trazer material espec√≠fico, pr√©-requisitos, etc."
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ### üìã Crit√©rios de Aceita√ß√£o

        A atividade ser√° adicionada ao sistema quando:
        - ‚úÖ A nova atividade aparecer na listagem de atividades
        - ‚úÖ Todos os detalhes fornecidos estiverem corretos (nome, descri√ß√£o, hor√°rio, capacidade)
        - ‚úÖ A categoria/tipo da atividade estiver configurada corretamente
        - ‚úÖ Os participantes iniciais (se fornecidos) estiverem inscritos
        - ‚úÖ A atividade for persistida no banco de dados MongoDB
        - ‚úÖ Os testes existentes continuarem passando

        ### üîß Informa√ß√µes T√©cnicas para o Agente Copilot

        **Arquivos a modificar:**
        - `src/main/java/com/mergingtonhigh/schoolmanagement/infrastructure/migrations/` - Criar nova migration ou modificar V001
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/valueobjects/ActivityType.java` - Verificar se o tipo existe

        **Padr√£o a seguir:**
        ```java
        Activity newActivity = new Activity(
            "Nome da Atividade",
            "Descri√ß√£o",
            "Formato leg√≠vel do hor√°rio",
            new ScheduleDetails(List.of("Monday", "Wednesday"), LocalTime.of(15, 30), LocalTime.of(17, 0)),
            capacidadeMaxima,
            ActivityType.APPROPRIATE_TYPE
        );
        newActivity.setParticipants(List.of("email1@mergington.edu"));
        mongoTemplate.save(newActivity);
        ```

        **Valida√ß√µes necess√°rias:**
        - Nome n√£o pode ser vazio
        - Hor√°rio de t√©rmino deve ser ap√≥s hor√°rio de in√≠cio
        - Capacidade m√°xima deve ser > 0
        - Emails devem ser v√°lidos (formato @mergington.edu)
