name: ‚úèÔ∏è Modificar Atividade Existente
description: Solicitar altera√ß√£o nos detalhes de uma atividade j√° cadastrada
title: "[MODIFICAR] Atualizar atividade: "
labels: ["enhancement", "atividade", "modifica√ß√£o"]
assignees:
  - copilot
body:
  - type: markdown
    attributes:
      value: |
        ## Modificar Atividade Existente
        Use este formul√°rio para solicitar mudan√ßas em uma atividade que j√° existe no sistema.
        
  - type: input
    id: activity-name
    attributes:
      label: Nome da Atividade a Modificar
      description: Qual atividade voc√™ deseja modificar?
      placeholder: "Ex: Chess Club, Art Club, Programming Class"
    validations:
      required: true

  - type: checkboxes
    id: what-to-change
    attributes:
      label: O que voc√™ deseja modificar?
      description: Marque todos os itens que precisam ser alterados
      options:
        - label: Nome da atividade
        - label: Descri√ß√£o
        - label: Dias da semana
        - label: Hor√°rio
        - label: Capacidade m√°xima
        - label: Categoria/Tipo
        - label: Outro (descreva abaixo)

  - type: input
    id: new-name
    attributes:
      label: Novo Nome (se aplic√°vel)
      description: Se estiver mudando o nome, qual ser√° o novo nome?
      placeholder: "Ex: Advanced Chess Club"
    validations:
      required: false

  - type: textarea
    id: new-description
    attributes:
      label: Nova Descri√ß√£o (se aplic√°vel)
      description: Se estiver mudando a descri√ß√£o, forne√ßa a nova descri√ß√£o completa
      placeholder: "Ex: Clube de xadrez avan√ßado para estudantes com experi√™ncia pr√©via"
    validations:
      required: false

  - type: checkboxes
    id: new-days
    attributes:
      label: Novos Dias da Semana (se aplic√°vel)
      description: Se estiver mudando os dias, marque os novos dias
      options:
        - label: Segunda-feira (Monday)
        - label: Ter√ßa-feira (Tuesday)
        - label: Quarta-feira (Wednesday)
        - label: Quinta-feira (Thursday)
        - label: Sexta-feira (Friday)
        - label: S√°bado (Saturday)
        - label: Domingo (Sunday)

  - type: input
    id: new-start-time
    attributes:
      label: Novo Hor√°rio de In√≠cio (se aplic√°vel)
      description: Se estiver mudando o hor√°rio, forne√ßa o novo hor√°rio de in√≠cio (formato 24h)
      placeholder: "Ex: 16:00"
    validations:
      required: false

  - type: input
    id: new-end-time
    attributes:
      label: Novo Hor√°rio de T√©rmino (se aplic√°vel)
      description: Se estiver mudando o hor√°rio, forne√ßa o novo hor√°rio de t√©rmino (formato 24h)
      placeholder: "Ex: 18:00"
    validations:
      required: false

  - type: input
    id: new-capacity
    attributes:
      label: Nova Capacidade M√°xima (se aplic√°vel)
      description: Se estiver mudando a capacidade, forne√ßa o novo n√∫mero m√°ximo de participantes
      placeholder: "Ex: 25"
    validations:
      required: false

  - type: dropdown
    id: new-type
    attributes:
      label: Nova Categoria (se aplic√°vel)
      description: Se estiver mudando a categoria, selecione a nova
      options:
        - N√£o alterar
        - Esportes (SPORTS)
        - Artes (ARTS)
        - Acad√™mico (ACADEMIC)
        - Tecnologia (TECHNOLOGY)
        - M√∫sica (MUSIC)
        - Teatro (DRAMA)
        - Mang√°/Anime (MANGA)
        - Clube (CLUB)
    validations:
      required: false

  - type: textarea
    id: reason
    attributes:
      label: Motivo da Mudan√ßa
      description: Por que esta mudan√ßa √© necess√°ria?
      placeholder: "Ex: Mudan√ßa de sala, aumento de demanda, ajuste de hor√°rio para evitar conflitos"
    validations:
      required: true

  - type: textarea
    id: additional-changes
    attributes:
      label: Outras Mudan√ßas
      description: Descreva qualquer outra mudan√ßa necess√°ria que n√£o se enquadre nas op√ß√µes acima
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ### üìã Crit√©rios de Aceita√ß√£o
        
        A modifica√ß√£o ser√° considerada completa quando:
        - ‚úÖ A atividade existente for localizada no banco de dados
        - ‚úÖ Todas as altera√ß√µes solicitadas forem aplicadas corretamente
        - ‚úÖ Os participantes j√° inscritos permanecerem inscritos (a menos que a capacidade seja reduzida)
        - ‚úÖ A atividade modificada aparecer corretamente na interface
        - ‚úÖ As mudan√ßas forem persistidas no banco de dados MongoDB
        - ‚úÖ Os testes existentes continuarem passando
        
        ### üîß Informa√ß√µes T√©cnicas para o Agente Copilot
        
        **Arquivos a modificar:**
        - `src/main/java/com/mergingtonhigh/schoolmanagement/infrastructure/migrations/V001_InitialDatabaseSetup.java` - Modificar dados seed
        - Poss√≠vel cria√ß√£o de nova migration se a atividade j√° estiver em produ√ß√£o
        
        **Abordagem:**
        1. Localizar a atividade pelo nome atual no c√≥digo de migration
        2. Atualizar os campos especificados mantendo o padr√£o existente
        3. Se estiver mudando o nome, certificar-se de que refer√™ncias sejam atualizadas
        4. Validar que a capacidade nova n√£o seja menor que o n√∫mero atual de participantes
        
        **Padr√£o de c√≥digo:**
        ```java
        Activity activity = new Activity(
            "Nome (novo ou existente)",
            "Descri√ß√£o (nova ou existente)",
            "Formato leg√≠vel do hor√°rio",
            new ScheduleDetails(dias, horaInicio, horaFim),
            capacidade,
            ActivityType.TYPE
        );
        ```
        
        **Valida√ß√µes:**
        - Atividade deve existir antes de modificar
        - Se reduzir capacidade, verificar n√∫mero atual de participantes
        - Manter integridade dos dados existentes
